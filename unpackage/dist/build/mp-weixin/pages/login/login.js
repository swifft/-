(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"0013":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={data:function(){return{phoneHeight:"",isaccountsuccess:!1,isaccountfail:!1,ispasswordsuccess:!1,ispasswordfail:!1,userinfo:{account:"",password:""}}},methods:{onReady:function(){var n=this;t.getSystemInfo({success:function(t){n.phoneHeight=t.windowHeight+"px"}})},register:function(){t.navigateTo({url:"../register/register"})},getaccount:function(t){t.detail.value.length>=2?(this.isaccountfail=!1,this.isaccountsuccess=!0):(this.isaccountfail=!0,this.isaccountsuccess=!1),this.userinfo.account=t.detail.value},getpassword:function(t){t.detail.value.length>=3&&t.detail.value.length<=16?(this.ispasswordfail=!1,this.ispasswordsuccess=!0):(this.ispasswordfail=!0,this.ispasswordsuccess=!1),this.userinfo.password=t.detail.value},forgetPassword:function(){t.showToast({title:"如需修改密码，请联系管理员",icon:"none",duration:1e3})},login:function(){this.userinfo.password.length>0&&this.userinfo.account.length>0?this.isaccountfail?t.showToast({title:"账号至少为3个字符",duration:1e3,icon:"none"}):this.ispasswordfail?t.showToast({title:"密码为3到16个字符",duration:1e3,icon:"none"}):t.request({data:this.userinfo,method:"POST",url:"https://gxnudsl.xyz/api/user/login",success:function(n){console.log(n),200==n.data.status_code?t.setStorage({key:"userInfo",data:n.data.res_info,success:function(){t.showToast({title:"登录成功",icon:"none",duration:1e3}),setTimeout((function(){0==n.data.res_info.isattestation?(t.showToast({title:"系统检测到您还未认证身份，正在为您跳转...",icon:"none",duration:1e3}),setTimeout((function(){t.redirectTo({url:"../my/attestation/attestation"})}),1e3)):setTimeout((function(){var n=getCurrentPages(),e=n[n.length-2];e.$vm.getData(),t.navigateBack({})}),1e3)}),1e3)}}):t.showToast({title:n.data.msg+"，请重新登陆",icon:"none",duration:1e3})}}):t.showToast({title:"登录信息不能为空，请仔细填写",duration:1e3,icon:"none"})}}};n.default=e}).call(this,e("543d")["default"])},"0e2a":function(t,n,e){"use strict";e.r(n);var s=e("495d"),i=e("78da");for(var o in i)"default"!==o&&function(t){e.d(n,t,(function(){return i[t]}))}(o);e("f349");var a,u=e("f0c5"),c=Object(u["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],a);n["default"]=c.exports},"495d":function(t,n,e){"use strict";var s,i=function(){var t=this,n=t.$createElement;t._self._c},o=[];e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return s}))},"78da":function(t,n,e){"use strict";e.r(n);var s=e("0013"),i=e.n(s);for(var o in s)"default"!==o&&function(t){e.d(n,t,(function(){return s[t]}))}(o);n["default"]=i.a},a13d:function(t,n,e){},bb3a:function(t,n,e){"use strict";(function(t){e("16db");s(e("66fd"));var n=s(e("0e2a"));function s(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},f349:function(t,n,e){"use strict";var s=e("a13d"),i=e.n(s);i.a}},[["bb3a","common/runtime","common/vendor"]]]);