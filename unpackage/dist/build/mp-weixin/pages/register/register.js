(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/register/register"],{"3be3":function(e,s,t){"use strict";t.r(s);var n=t("d669"),i=t("8a3c");for(var o in i)"default"!==o&&function(e){t.d(s,e,(function(){return i[e]}))}(o);t("713b");var a,u=t("f0c5"),r=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],a);s["default"]=r.exports},"713b":function(e,s,t){"use strict";var n=t("78c3"),i=t.n(n);i.a},"78c3":function(e,s,t){},"8a3c":function(e,s,t){"use strict";t.r(s);var n=t("939c"),i=t.n(n);for(var o in n)"default"!==o&&function(e){t.d(s,e,(function(){return n[e]}))}(o);s["default"]=i.a},"939c":function(e,s,t){"use strict";(function(e){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var t={data:function(){return{phoneHeight:"700px",radio:!1,isschoolnumbersuccess:!1,isschoolnumberfail:!1,ispasswordsuccess:!1,ispasswordfail:!1,isnamesuccess:!1,isnamefail:!1,userinfo:{nickname:"",schoolnumber:"",password:""},roleType:["学生","辅导员"],roleIndex:0}},methods:{onReady:function(){var s=this;e.getSystemInfo({success:function(e){s.phoneHeight=e.windowHeight+"px"}})},clause:function(){this.$refs.popup.open()},ischeked:function(){this.radio=!this.radio},popupclose:function(){this.$refs.popup.close()},getschoolnumber:function(e){var s=new RegExp(/^\d{6,12}$/);s.test(e.detail.value)?(this.isschoolnumberfail=!1,this.isschoolnumbersuccess=!0):(this.isschoolnumberfail=!0,this.isschoolnumbersuccess=!1),this.userinfo.schoolnumber=e.detail.value},getpassword:function(e){e.detail.value.length>=3&&e.detail.value.length<=16?(this.ispasswordfail=!1,this.ispasswordsuccess=!0):(this.ispasswordfail=!0,this.ispasswordsuccess=!1),this.userinfo.password=e.detail.value},getname:function(e){e.detail.value.length>=2&&e.detail.value.length<=8?(this.isnamefail=!1,this.isnamesuccess=!0):(this.isnamefail=!0,this.isnamesuccess=!1),this.userinfo.nickname=e.detail.value},selectRole:function(e){this.roleIndex=e.detail.value},register:function(){this.userinfo.nickname.length>0&&this.userinfo.password.length>0&&this.userinfo.schoolnumber.length>0?this.isschoolnumberfail?e.showToast({title:"学号/教职工号格式不正确",duration:1e3,icon:"none"}):this.ispasswordfail?e.showToast({title:"密码为3到16个字符",duration:1e3,icon:"none"}):this.isnamefail?e.showToast({title:"昵称为3到8个字符",duration:1e3,icon:"none"}):this.radio?(this.userinfo["role"]=this.roleType[this.roleIndex],e.request({data:this.userinfo,method:"POST",url:"https://gxnudsl.xyz/api/user/register",success:function(s){console.log(s),200==s.data.status_code?e.setStorage({key:"userInfo",data:s.data.res_info,success:function(){e.showToast({title:"欢迎您加入我们,正在为您跳转身份认证...",icon:"none",duration:1e3}),setTimeout((function(){var s=getCurrentPages(),t=s[s.length-3];t.$vm.getData(),e.redirectTo({url:"../my/attestation/attestation"})}),1e3)}}):e.showToast({title:s.data.msg,icon:"none",duration:1e3})}})):e.showToast({title:"请勾选用户协议",duration:1e3,icon:"none"}):e.showToast({title:"表单不能为空，请仔细填写",duration:1e3,icon:"none"})}}};s.default=t}).call(this,t("543d")["default"])},d669:function(e,s,t){"use strict";var n={uniPopup:function(){return Promise.all([t.e("common/vendor"),t.e("components/uni-popup/uni-popup")]).then(t.bind(null,"97ea"))}},i=function(){var e=this,s=e.$createElement;e._self._c},o=[];t.d(s,"b",(function(){return i})),t.d(s,"c",(function(){return o})),t.d(s,"a",(function(){return n}))},e1bc:function(e,s,t){"use strict";(function(e){t("16db");n(t("66fd"));var s=n(t("3be3"));function n(e){return e&&e.__esModule?e:{default:e}}e(s.default)}).call(this,t("543d")["createPage"])}},[["e1bc","common/runtime","common/vendor"]]]);